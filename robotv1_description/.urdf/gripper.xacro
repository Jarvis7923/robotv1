<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
  <xacro:include filename="$(find robotv1_description)/urdf/utilities.xacro"/>
  <xacro:property name="gripper_width" value="0.025"/>
  <xacro:property name="gripper_length" value="0.025"/>

  <xacro:macro name="robot_v1_gripper" params="prefix">
    <link name="${prefix}_gripper">
      <visual>
        <geometry>
          <box size="${gripper_width} ${gripper_width} ${gripper_length}"/>
        </geometry>
      <origin rpy="0 0 0 " xyz="0.0 0 0"/>
      <material name="orange"/>
      </visual>
      <inertial>
        <mass value="1"/>
        <inertia
          ixx="1.0" ixy="0.0" ixz="0.0"
          iyy="1.0" iyz="0.0"
          izz="1.0"/>
      </inertial>
    </link>

    <joint name="${prefix}_left_finger_joint" type="revolute">
      <origin rpy="0 ${-pi/2} 0" xyz="0.0 0.01 0"/>
      <parent link="${prefix}_gripper"/>
      <child link="${prefix}_left_finger"/>
      <axis xyz="0 0 1"/>
      <limit lower="0" upper="${pi}" effort="1" velocity="1"/>
    </joint>

    <link name="${prefix}_left_finger">
      <visual>
      <origin rpy="0.0 0 0" xyz="0 0 0"/>
        <geometry>
          <mesh filename="package://urdf_tutorial/meshes/l_finger.dae"/>
        </geometry>
      </visual>
      <inertial>
        <mass value="1"/>
        <inertia
          ixx="1.0" ixy="0.0" ixz="0.0"
          iyy="1.0" iyz="0.0"
          izz="1.0"/>
      </inertial>
    </link>

    <joint name="${prefix}_left_tip_joint" type="fixed">
      <parent link="${prefix}_left_finger"/>
      <child link="${prefix}_left_tip"/>
    </joint>

    <link name="${prefix}_left_tip">
      <visual>
        <origin rpy="0.0 0 0" xyz="0.09137 0.00495 0"/>
        <geometry>
          <mesh filename="package://urdf_tutorial/meshes/l_finger_tip.dae"/>
        </geometry>
      </visual>
      <inertial>
        <mass value="1"/>
        <inertia
          ixx="1.0" ixy="0.0" ixz="0.0"
          iyy="1.0" iyz="0.0"
          izz="1.0"/>
      </inertial>
    </link>

    <joint name="${prefix}_right_finger_joint" type="revolute">
      <origin rpy="0 ${-pi/2} 0" xyz="0.0 -0.01 0"/>
      <parent link="${prefix}_gripper"/>
      <child link="${prefix}_right_finger"/>
      <axis xyz="0 0 1"/>
      <limit lower="0" upper="${pi}" effort="1" velocity="1"/>
    </joint>

    <link name="${prefix}_right_finger">
    <visual>
      <origin rpy="-3.1415 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://urdf_tutorial/meshes/l_finger.dae"/>
      </geometry>
    </visual>
      <inertial>
        <mass value="1"/>
        <inertia
          ixx="1.0" ixy="0.0" ixz="0.0"
          iyy="1.0" iyz="0.0"
          izz="1.0"/>
      </inertial>
    </link>

    <joint name="${prefix}_right_tip_joint" type="fixed">
      <parent link="${prefix}_right_finger"/>
      <child link="${prefix}_right_tip"/>
    </joint>

    <link name="${prefix}_right_tip">
      <visual>
      <origin rpy="-3.1415 0 0" xyz="0.09137 0.00495 0"/>
        <geometry>
          <mesh filename="package://urdf_tutorial/meshes/l_finger_tip.dae"/>
        </geometry>
      </visual>
      <inertial>
        <mass value="1"/>
        <inertia
          ixx="1.0" ixy="0.0" ixz="0.0"
          iyy="1.0" iyz="0.0"
          izz="1.0"/>
      </inertial>
    </link>
  </xacro:macro>
</robot>
